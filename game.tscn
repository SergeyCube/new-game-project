[gd_scene format=4 uid="uid://elst0xn32iil"]

[ext_resource type="Script" uid="uid://cj0hhuca60w2v" path="res://game.gd" id="1_e2o6t"]
[ext_resource type="PackedScene" uid="uid://cl07o106gccc8" path="res://components/Character3D/walking.tscn" id="4_7jktm"]
[ext_resource type="PackedScene" uid="uid://sedsjfp0dxue" path="res://components/Character3D/move_and_slide.tscn" id="4_fc0e3"]
[ext_resource type="PackedScene" uid="uid://opsccar23tpu" path="res://components/Character3D/gravity.tscn" id="4_ryrav"]
[ext_resource type="Script" uid="uid://p5p0kqifugfw" path="res://addons/GD-Sync/Scripts/Types/NodeInstantiator.gd" id="5_ryrav"]
[ext_resource type="PackedScene" uid="uid://ckudr8chj1kgo" path="res://character.tscn" id="6_eow3j"]

[sub_resource type="Environment" id="Environment_80nbo"]
background_mode = 1
background_color = Color(0.45469165, 0.7028978, 0.8416017, 1)
ambient_light_source = 2
ambient_light_color = Color(0.8620074, 0.6404432, 0.43480358, 1)
tonemap_mode = 2
fog_enabled = true
fog_light_color = Color(0.31702513, 0.58501595, 0.73217547, 1)
fog_density = 0.0
fog_height = -0.5
fog_height_density = 0.1

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_80nbo"]
data = PackedVector3Array(-15, -25, 15, -15, -25, -15, -15, 25, -15, 15, -25, -15, -15, -25, -15, -15, -25, 15, -15, 25, -15, -15, -25, -15, 15, -25, -15, -15, 25, -15, -15, 25, 15, -15, -25, 15, -15, -25, 15, -15, 25, 15, 15, 25, 15, 15, 25, 15, -15, 25, 15, -15, 25, -15, -15, -25, 15, 15, -25, 15, 15, -25, -15, 15, 25, 15, 15, -25, 15, -15, -25, 15, 15, -25, -15, 15, -25, 15, 15, 25, 15, 15, -25, -15, 15, 25, -15, -15, 25, -15, -15, 25, -15, 15, 25, -15, 15, 25, 15, 15, 25, 15, 15, 25, -15, 15, -25, -15)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_80nbo"]
albedo_color = Color(1, 0.84673584, 0.73095036, 1)

[sub_resource type="ArrayMesh" id="ArrayMesh_e2o6t"]
_surfaces = [{
"aabb": AABB(-15, -25, -15, 30, 50, 30),
"attribute_data": PackedByteArray("AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/"),
"format": 34359738391,
"material": SubResource("StandardMaterial3D_80nbo"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 36,
"vertex_data": PackedByteArray("AABwwQAAyMEAAHBBAABwwQAAyMEAAHDBAABwwQAAyEEAAHDBAABwQQAAyMEAAHDBAABwwQAAyMEAAHDBAABwwQAAyMEAAHBBAABwwQAAyEEAAHDBAABwwQAAyMEAAHDBAABwQQAAyMEAAHDBAABwwQAAyEEAAHDBAABwwQAAyEEAAHBBAABwwQAAyMEAAHBBAABwwQAAyMEAAHBBAABwwQAAyEEAAHBBAABwQQAAyEEAAHBBAABwQQAAyEEAAHBBAABwwQAAyEEAAHBBAABwwQAAyEEAAHDBAABwwQAAyMEAAHBBAABwQQAAyMEAAHBBAABwQQAAyMEAAHDBAABwQQAAyEEAAHBBAABwQQAAyMEAAHBBAABwwQAAyMEAAHBBAABwQQAAyMEAAHDBAABwQQAAyMEAAHBBAABwQQAAyEEAAHBBAABwQQAAyMEAAHDBAABwQQAAyEEAAHDBAABwwQAAyEEAAHDBAABwwQAAyEEAAHDBAABwQQAAyEEAAHDBAABwQQAAyEEAAHBBAABwQQAAyEEAAHBBAABwQQAAyEEAAHDBAABwQQAAyMEAAHDBAAD/f/9//n8AAP9//3/+fwAA/3//f/5//38AAP//AAD/fwAA//8AAP9/AAD//wAA/////wAA/z//////AAD/P/////8AAP8/AAD/f/9//n8AAP9//3/+fwAA/3//f/5//3//fwAA/z//f/9/AAD/P/9//38AAP8//3//////AAD/f/////8AAP9//////wAA/38AAP//AAD/fwAA//8AAP9/AAD//wAA/3//fwAA/z//f/9/AAD/P/9//38AAP8/////f/9//n////9//3/+f////3//f/5//////wAA/z//////AAD/P/////8AAP8//3//////AAD/f/////8AAP9//////wAA////f/9//n////9//3/+f////3//f/5/")
}]

[sub_resource type="BoxShape3D" id="BoxShape3D_fc0e3"]

[sub_resource type="BoxMesh" id="BoxMesh_7jktm"]

[sub_resource type="SystemFont" id="SystemFont_ryrav"]
font_weight = 100

[node name="Game" type="Node3D" unique_id=22468147]
script = ExtResource("1_e2o6t")
lobby_number = 4

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=239618745]
transform = Transform3D(0.3826834, 0.6532814, -0.6532814, 0, 0.7071067, 0.7071067, 0.92387944, -0.27059802, 0.27059802, 0, 10, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=790716533]
environment = SubResource("Environment_80nbo")

[node name="LevelPlatform" type="StaticBody3D" parent="." unique_id=1486682900]

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="LevelPlatform" unique_id=607877218]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -25, 0)
shape = SubResource("ConcavePolygonShape3D_80nbo")

[node name="CSGBakedMeshInstance3D" type="MeshInstance3D" parent="LevelPlatform" unique_id=419590256]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -25, 0)
mesh = SubResource("ArrayMesh_e2o6t")
skeleton = NodePath("../..")

[node name="Cube" type="CharacterBody3D" parent="." unique_id=1120494773]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 20.1, 3)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Cube" unique_id=409542951]
shape = SubResource("BoxShape3D_fc0e3")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Cube" unique_id=1793786054]
mesh = SubResource("BoxMesh_7jktm")

[node name="Gravity" parent="Cube" unique_id=397637246 instance=ExtResource("4_ryrav")]

[node name="MoveAndSlide" parent="Cube" unique_id=725153590 instance=ExtResource("4_fc0e3")]

[node name="Walking" parent="Cube" unique_id=2012342244 instance=ExtResource("4_7jktm")]

[node name="Label3D" type="Label3D" parent="Cube" unique_id=1715608323]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
billboard = 1
modulate = Color(0, 0, 0, 1)
text = "Cube"
font = SubResource("SystemFont_ryrav")
font_size = 128
outline_size = 0

[node name="CharacterInstantiator" type="Node" parent="." unique_id=1936343911]
script = ExtResource("5_ryrav")
target_location = NodePath("")
scene = ExtResource("6_eow3j")
replicate_on_join = true
sync_starting_changes = true
excluded_properties = PackedStringArray()
metadata/_custom_type_script = "uid://p5p0kqifugfw"

[node name="Label" type="Label" parent="." unique_id=1609382072]
offset_right = 304.0
offset_bottom = 65.0

[connection signal="input_event" from="LevelPlatform" to="." method="_on_level_platform_input_event"]
[connection signal="node_instantiated" from="CharacterInstantiator" to="." method="_on_character_instantiator_node_instantiated"]
