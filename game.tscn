[gd_scene format=4 uid="uid://elst0xn32iil"]

[ext_resource type="Script" uid="uid://cj0hhuca60w2v" path="res://game.gd" id="1_e2o6t"]
[ext_resource type="Script" uid="uid://cbkvw5msjsr4e" path="res://cube.gd" id="2_ryrav"]
[ext_resource type="Script" uid="uid://pywyr7axyycx" path="res://components/Character3D/gravity.gd" id="4_eow3j"]
[ext_resource type="Script" uid="uid://ddafhehugv6vq" path="res://components/Character3D/move_and_slide.gd" id="4_ryrav"]

[sub_resource type="Environment" id="Environment_80nbo"]
background_mode = 1
background_color = Color(0.45469165, 0.7028978, 0.8416017, 1)
ambient_light_source = 2
ambient_light_color = Color(0.8620074, 0.6404432, 0.43480358, 1)
tonemap_mode = 2
fog_enabled = true
fog_light_color = Color(0.31702513, 0.58501595, 0.73217547, 1)
fog_density = 0.0
fog_height = -0.5
fog_height_density = 0.1

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_80nbo"]
data = PackedVector3Array(-15, -25, 15, -15, -25, -15, -15, 25, -15, 15, -25, -15, -15, -25, -15, -15, -25, 15, -15, 25, -15, -15, -25, -15, 15, -25, -15, -15, 25, -15, -15, 25, 15, -15, -25, 15, -15, -25, 15, -15, 25, 15, 15, 25, 15, 15, 25, 15, -15, 25, 15, -15, 25, -15, -15, -25, 15, 15, -25, 15, 15, -25, -15, 15, 25, 15, 15, -25, 15, -15, -25, 15, 15, -25, -15, 15, -25, 15, 15, 25, 15, 15, -25, -15, 15, 25, -15, -15, 25, -15, -15, 25, -15, 15, 25, -15, 15, 25, 15, 15, 25, 15, 15, 25, -15, 15, -25, -15)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_80nbo"]
albedo_color = Color(1, 0.84673584, 0.73095036, 1)

[sub_resource type="ArrayMesh" id="ArrayMesh_e2o6t"]
_surfaces = [{
"aabb": AABB(-15, -25, -15, 30, 50, 30),
"attribute_data": PackedByteArray("AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/"),
"format": 34359738391,
"material": SubResource("StandardMaterial3D_80nbo"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 36,
"vertex_data": PackedByteArray("AABwwQAAyMEAAHBBAABwwQAAyMEAAHDBAABwwQAAyEEAAHDBAABwQQAAyMEAAHDBAABwwQAAyMEAAHDBAABwwQAAyMEAAHBBAABwwQAAyEEAAHDBAABwwQAAyMEAAHDBAABwQQAAyMEAAHDBAABwwQAAyEEAAHDBAABwwQAAyEEAAHBBAABwwQAAyMEAAHBBAABwwQAAyMEAAHBBAABwwQAAyEEAAHBBAABwQQAAyEEAAHBBAABwQQAAyEEAAHBBAABwwQAAyEEAAHBBAABwwQAAyEEAAHDBAABwwQAAyMEAAHBBAABwQQAAyMEAAHBBAABwQQAAyMEAAHDBAABwQQAAyEEAAHBBAABwQQAAyMEAAHBBAABwwQAAyMEAAHBBAABwQQAAyMEAAHDBAABwQQAAyMEAAHBBAABwQQAAyEEAAHBBAABwQQAAyMEAAHDBAABwQQAAyEEAAHDBAABwwQAAyEEAAHDBAABwwQAAyEEAAHDBAABwQQAAyEEAAHDBAABwQQAAyEEAAHBBAABwQQAAyEEAAHBBAABwQQAAyEEAAHDBAABwQQAAyMEAAHDBAAD/f/9//n8AAP9//3/+fwAA/3//f/5//38AAP//AAD/fwAA//8AAP9/AAD//wAA/////wAA/z//////AAD/P/////8AAP8/AAD/f/9//n8AAP9//3/+fwAA/3//f/5//3//fwAA/z//f/9/AAD/P/9//38AAP8//3//////AAD/f/////8AAP9//////wAA/38AAP//AAD/fwAA//8AAP9/AAD//wAA/3//fwAA/z//f/9/AAD/P/9//38AAP8/////f/9//n////9//3/+f////3//f/5//////wAA/z//////AAD/P/////8AAP8//3//////AAD/f/////8AAP9//////wAA////f/9//n////9//3/+f////3//f/5/")
}]

[sub_resource type="BoxShape3D" id="BoxShape3D_fc0e3"]

[sub_resource type="BoxMesh" id="BoxMesh_7jktm"]

[sub_resource type="SystemFont" id="SystemFont_ryrav"]
font_weight = 100

[node name="Game" type="Node3D" unique_id=22468147]
script = ExtResource("1_e2o6t")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=239618745]
transform = Transform3D(0.3826834, 0.6532814, -0.6532814, 0, 0.7071067, 0.7071067, 0.92387944, -0.27059802, 0.27059802, 0, 10, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=790716533]
environment = SubResource("Environment_80nbo")

[node name="LevelPlatform" type="StaticBody3D" parent="." unique_id=1486682900]

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="LevelPlatform" unique_id=607877218]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -25, 0)
shape = SubResource("ConcavePolygonShape3D_80nbo")

[node name="CSGBakedMeshInstance3D" type="MeshInstance3D" parent="LevelPlatform" unique_id=419590256]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -25, 0)
mesh = SubResource("ArrayMesh_e2o6t")
skeleton = NodePath("../..")

[node name="Cube" type="CharacterBody3D" parent="." unique_id=1120494773]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 20.1, 3)
script = ExtResource("2_ryrav")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Cube" unique_id=409542951]
shape = SubResource("BoxShape3D_fc0e3")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Cube" unique_id=1793786054]
mesh = SubResource("BoxMesh_7jktm")

[node name="Label3D" type="Label3D" parent="Cube" unique_id=1715608323]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
billboard = 1
modulate = Color(0, 0, 0, 1)
text = "Cube"
font = SubResource("SystemFont_ryrav")
font_size = 128
outline_size = 0

[node name="Gravity" type="Node" parent="Cube" unique_id=291519797]
script = ExtResource("4_eow3j")
metadata/_custom_type_script = "uid://pywyr7axyycx"

[node name="MoveAndSlide" type="Node" parent="Cube" unique_id=1868467393]
script = ExtResource("4_ryrav")
metadata/_custom_type_script = "uid://ddafhehugv6vq"

[node name="CharacterSpawner" type="MultiplayerSpawner" parent="." unique_id=173168730]
_spawnable_scenes = PackedStringArray("uid://ckudr8chj1kgo")
spawn_path = NodePath("..")

[node name="HostButton" type="Button" parent="." unique_id=1561184548]
offset_left = 9.0
offset_top = 644.0
offset_right = 96.0
offset_bottom = 674.0
text = "HOST"

[node name="JoinButton" type="Button" parent="." unique_id=1255376704]
offset_left = 9.0
offset_top = 682.0
offset_right = 96.0
offset_bottom = 712.0
text = "JOIN"

[connection signal="input_event" from="LevelPlatform" to="." method="_on_level_platform_input_event"]
[connection signal="pressed" from="HostButton" to="." method="_on_host_button_pressed"]
[connection signal="pressed" from="JoinButton" to="." method="_on_join_button_pressed"]
